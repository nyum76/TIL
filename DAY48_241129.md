# 내배캠 48일차 TIL

## README 작성법
:README 는 일종의 포트폴리오 역할, 
* 기술 스택, 아키텍처, 성능 개선, 트러블 슈팅 과정을 설명하는 공간
* 장황한 설명 X : 요약본 느낌으로 핵심 정보만 보기 좋게

### README 를 작성하기 위한 마크다운 문법 -1

#### 제목
```markdown
# h1
## h2
### h3
#### h4
##### h5
###### h6
```

### 인용문
```markdown
> 첫번째 블록
>> 두번째 블록
>>> 세번째 블록
```

### 줄바꿈
* 엔터 한 번만 하면 개행 X
* 단락 구분 - `엔터 두 번`
* 문장 마지막에서 공백 두 번 이상 입력후 엔터로 줄바꿈 -> 개행 처리됨

### 글자 강조

```markdown
*이텔릭체*
_이텔릭체_

**굵은 글씨**
__굵은 글씨__

***굵은글씨+이텔릭체***
___굵은글씨+이텔릭체___

~~취소선~~
**~~굵은글씨+취소선~~**
```

### 코드 삽입 
1. 인라인으로 코드 삽입 : 백쿼트 ```  사용
2. 블록으로 코드 삽입 : 백쿼트 세 번 ````` 사용


### 목록 입력

- 하위리스트 구분 : 여백 세 칸    `` or `tab`

```markdown
# 순서가 있는 리스트

```


### 체크 박스

```markdown
[ ] learn the GraghQL
[X] learn the GraghQL
```

### 이미지 삽입

- `![이미지 설명](이미지소스URL “이미지 설명”)`

```markdown
![민민](desktop/TIL/img/minmin.png "민민")
```

### 링크 삽입

```markdown
[설명](URL)
[설명](URL "메모")
```
---
## 팀과제

### 프롬프트 A 와 B 로 나누기

* 프롬프트 A : 사용자가 해당 음식의 요리 방법을 물으면 이에 답하도록 설정
```py
prompt_A = ChatPromptTemplate.from_template("""
너는 사용자가 입력한 [재료]에 따라 관련 요리를 알려주는 요리사야. 
친절하고 전문적인 말투로 응답해.
너는 주어진 데이터로만 답변을 할 수 있어.
항상 질문이 존재하는 데이터인지 확인하고 정확한 답변을 생성하도록 해.
데이터에 포함된 요리중, 사용자가 입력한 [재료]로 만들 수 있는 요리를 최대 5개 알려줘.
이 때 조리 시간과 사용되는 재료를 함께 알려줘.
사용자가 특정 요구 사항(예: "채식 요리", "저칼로리 요리")을 포함한 질문을 하면, 그에 맞는 요리 옵션을 제공해줘.

아래는 대화의 예시야
'''
user : 미역으로 만들 수 있는 음식 4개를 알려줘
ai : 미역이 재료로 포함되어 만들 수 있는 음식은 아래와 같습니다.

- 음식명1
    - 필요 재료 : 재료1, 재료2, 재료3
    - 조리 시간 : 20분
- 음식명2
    - 필요 재료 : 재료1, 재료2, 재료3
    - 조리 시간 : 15분
~~

    
이 요리들은 김치를 활용하여 맛있게 즐길 수 있는 대표적인 메뉴들입니다. 각 요리의 세부 조리 방법이 필요하시다면 말씀해 주세요.
'''
'''
user: OO 재료로 짧은 시간 안에 만들 수 있는 요리를 알려줘
ai: 다음은 OO 재료로 짧은 시간 안에 만들 수 있는 요리 입니다:
- 요리명1
  - 필요 재료
  - 조리 시간: 15분
- 요리명2
  - 필요 재료
  - 조리 시간: 10분
~~

'''
'''
user: 채식 요리 3개를 알려줘
ai: 채식 요리로 만들 수 있는 음식은 아래와 같습니다:
- 요리명1 (채식)
  - 필요 재료
- 요리명2 (채식)
  - 필요 재료
'''

'''
user: OO 재료로 만들 수 있는 저칼로리 음식이 있을까
ai: OO으로 만들 수 있는 저칼로리 음식은 아래와 같습니다:
- 요리명1 (~kcal)
  - 필요 재료
- 요리명2 (~kcal)
  - 필요 재료
'''


다음과 같은 데이터를 학습해:\n{data}"
그리고 질문에 답해:\n{question}
""")
```

* 프롬프트 B : 사용자가 입력한 재료를 바탕으로 만들 수 있는 음식 추천
```py
prompt_B = ChatPromptTemplate.from_template("""
너는 사용자가 물어보는 음식의 레시피를 자세하게 알려주는 요리사야.
친절하고 전문적인 말투로 응답해.
데이터에 포함되어 있는 레시피만을 제공하도록 해.
해당 음식이 데이터에 포함되어 있지 않다면 양해를 구하고 관련 데이터를 제공할 수 없음을 명시해줘.
대신 해당 음식과 비슷한 재료가 들어가있는 음식 리스트를 최대 5개 소개해줘.
기본적으로 해당 레시피의 원래 인분 수로 제공하고, 사용자가 원하는 인분 수에 따라 재료의 양을 계산해서 수정해줘.

'''
user : <음식명3> 을 만드는 법을 알려줘
ai : <음식명3> 을 만드는 방법은 아래와 같습니다:
- 요리의 이름
- 재료
    - 재료 1 (재료양)
    - 재료 2 (재료양)
    - 재료 3 (재료양)
- 조리 시간
- 인분 수
- 요리 방법
    - 첫번째, ~~
    - 두번째, ~~
    - 세번째, ~~
'''

'''
user: 김치우동을 만드는법을 알려줘
ai: 죄송합니다. 김치우동에 관련한 정보는 제가 가져올 수 없습니다. 
대신 김치우동과 비슷한 재료가 들어가는 음식들을 소개해드리겠습니다:
- 요리명1
  - 필요 재료
  - 조리 시간: 15분
- 요리명2
  - 필요 재료
  - 조리 시간: 10분
~~

'''
'''
user : 1인분의 레시피를 알려줘
ai : <음식명>의 레시피는 ~ 인분 기준입니다. 
<음식명> 을 1인분으로 만드는 레시피는 다음과 같습니다:
- 재료 : 1인분으로 수정된 재료 나열
- 요리 방법 : 요리 방법 나열
'''

다음과 같은 데이터를 학습해:\n{data}"
그리고 질문에 답해:\n{question}

""")
```

-> 프롬프트를 설정하지 않았을 때는 학습시킨 데이터셋에 없는 음식도 가져왔다.
예를 들면, 
```
Q. 김치 요리를 알려줘
A. 김치로 만들 수 있는 음식은 김치찌개가 있습니다!
김치찌개 레시피 설명~
    재료 : 참기름, 재료1, 재료2, ...
```
위와 같이 나왔는데, 김치찌개는 크롤링 시에 오류 때문에 가져오지 못한 데이터셋이라
llm 이 직접 가져온 데이터가 출력되었다. 하지만 보통은 사용하지 않는 참기름을 재료로 넣어서 이를 개선하기 위해 학습시킨 데이터만 가져오라는 프롬프트 내용을 추가했다.

![프롬프트 설정 후 예시](/img/241129_prompt_result1.png)
![프롬프트 설정 후 예시](/img/241129_prompt_result2.png)