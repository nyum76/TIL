# 내일배움캠프 25일차 TIL

## 오늘의 오류
![](/img/241115_api_key_error_1.png)
![](/img/241115_api_key_error_2.png)
### 오류 상황
LLM RAG 를 활용한 챗봇 구축하기 개인과제를 진행하던 도중, 
내 API KEY 를 잘 불러오고 문서를 청크단위로 나누는것 까지 성공했는데
벡터 임베딩을 생성하는 부분에서
`embeddings = OpenAIEmbeddings(model="text-embedding-ada-002)`
`OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable`
가 발생했다.

### 해결
* OpenAI 의 API 키는 `sk-` 로 시작하는데 오류 코드를 자세히 보면 `k-` 로 시작하는 것을 볼 수 있다.
* API KEY 를 잘못 입력해서 발생한 오류
* 그렇다면 왜 `.env` 파일에서 내 API 키로 바꿨을 때도 동일한 에러가 발생하였나?
  * `.env`파일에서 변경사항이 업데이트 되지 않았기 때문
  * 커널을 재시작하여 문제 해결됨
### 요약
* OpenAI 의 API KEY 는 `sk-`로 시작한다. 
* `.env`파일에서 환경 변수 변경시 적용하기 위해 **커널 재시작 필요**